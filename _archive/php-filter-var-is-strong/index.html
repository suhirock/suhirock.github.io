<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PHPのfilter_varは結構強力 | LOGデナシ</title>
    
    <link rel="stylesheet" href="/style.css" media="screen">
    <link rel="icon" type="image/png" href="https://avatars.githubusercontent.com/u/38547890?s=60&v=4">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NN1RDH0627"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-NN1RDH0627');
    </script>
</head>
<body>
    <header>
        <h1 class="site-title">LOGデナシ</h1>
        <div class="version">ver.10</div>
    </header>

    
<br>
<div class="created_at">
<time>2023.04.19 14:37:20 Wed.</time>
</div>

<p>filter_varは特定の形でデータをフィルタリングしてくれるもので、その形式を知っていればかなり楽できる関数です。<br />
というか知られているのかな？なんとなく、ググってみたら、細かいところまでは手が届かないがある程度形式の保証をしてくれるといった印象を僕は持ちました。<br />
今回この関数を調べたのはWordPressのプラグイン「MW WP Form」内で使われていたからです。<br />
もともとは「Data not accepted」みたいなエラーをPHPMailerで出したくて、mwform_auto_mail_raw_mw-wp-form-xxxのフィルターで$Mail_raw-&gt;from = "hoge"とかしてたわけですが、メールが正常に送信されますではないですか!<br />
これの原因がfilter_varだったわけでして、プラグインで設定したfromのメールを送信前に検証していました。<br />
おかしなFromだったら「デフォルトの送信元メールアドレス」を設定しており、正常送信されるようになるということになっておりました。</p>


<div class="backlink">
<a href="javascript:history.back();">前に戻る</a>
</div>


    <div class="footer-navi">
        <a href="https://suhirock.github.io">TOP</a> | <a href="https://suhirock.github.io/blog/">ログ</a> | <a href="https://suhirock.github.io/privacy/">プライバシー</a>
    </div>

    <footer>
        <small>&copy;suhirock</small>
    </footer>
</body>
</html>